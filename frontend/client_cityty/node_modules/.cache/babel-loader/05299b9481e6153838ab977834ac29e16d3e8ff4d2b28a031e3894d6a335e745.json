{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/thoma/Desktop/CITYTY/frontend/client_cityty/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/thoma/Desktop/CITYTY/frontend/client_cityty/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/thoma/Desktop/CITYTY/frontend/client_cityty/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,TextField}from\"@mui/material\";import React,{useState}from\"react\";import SendIcon from\"@mui/icons-material/Send\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddCityPage=function AddCityPage(_ref){var user=_ref.user;var _useState=useState(),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var SendMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,formField;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:token=localStorage.getItem(\"token\");formField=new FormData();formField.append(\"email\",user.email);formField.append(\"message\",message);_context.prev=4;_context.next=7;return axios({method:\"post\",url:\"https://cityty-server-fe9e2e38c772.herokuapp.com/api/addcity/\",data:formField,headers:{Authorization:\"Token \".concat(token)}}).then(function(response){alert(response.data);});case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](4);alert(\"Erreur de connexion...\");case 12:_context.prev=12;setMessage(\"\");return _context.finish(12);case 15:case\"end\":return _context.stop();}},_callee,null,[[4,9,12,15]]);}));return function SendMessage(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"addCityBox\",children:[/*#__PURE__*/_jsx(\"text\",{className:\"textaddCity1\",children:\"A city-stadium is not on the map?\"}),/*#__PURE__*/_jsx(\"text\",{className:\"textaddCity2\",children:\"Want to add it?\"}),/*#__PURE__*/_jsx(\"text\",{className:\"textaddCity3\",children:\"Give us a max of info about your city (address, city, city name) so that we can add it in the shortest time!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonBoxChat\",children:[/*#__PURE__*/_jsx(TextField,{id:\"message\",label:\"Enter message\",size:\"normal\",variant:\"filled\",margin:\"normal\",multiline:true,maxRows:5,fullWidth:true,value:message,onChange:function onChange(e){return setMessage(e.target.value);},sx:{height:\"10vh\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonSend\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",margin:\"normal\",onClick:function onClick(){return SendMessage();}//color=\"success\"\n,endIcon:/*#__PURE__*/_jsx(SendIcon,{}),sx:{height:\"7vh\"}})})]})]});};export default AddCityPage;","map":{"version":3,"names":["Button","TextField","React","useState","SendIcon","axios","jsx","_jsx","jsxs","_jsxs","AddCityPage","_ref","user","_useState","_useState2","_slicedToArray","message","setMessage","SendMessage","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","formField","wrap","_callee$","_context","prev","next","localStorage","getItem","FormData","append","email","method","url","data","headers","Authorization","concat","then","response","alert","t0","finish","stop","apply","arguments","className","children","id","label","size","variant","margin","multiline","maxRows","fullWidth","value","onChange","e","target","sx","height","onClick","endIcon"],"sources":["C:/Users/thoma/Desktop/CITYTY/frontend/client_cityty/src/components/AddCityPage.js"],"sourcesContent":["import { Button, TextField } from \"@mui/material\";\r\nimport React, { useState } from \"react\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport axios from \"axios\";\r\n\r\nconst AddCityPage = ({ user }) => {\r\n  const [message, setMessage] = useState();\r\n\r\n  const SendMessage = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    let formField = new FormData();\r\n    formField.append(\"email\", user.email);\r\n    formField.append(\"message\", message);\r\n    try {\r\n      await axios({\r\n        method: \"post\",\r\n        url: `https://cityty-server-fe9e2e38c772.herokuapp.com/api/addcity/`,\r\n        data: formField,\r\n        headers: {\r\n          Authorization: `Token ${token}`,\r\n        },\r\n      }).then((response) => {\r\n        alert(response.data);\r\n      });\r\n    } catch {\r\n      alert(\"Erreur de connexion...\");\r\n    } finally {\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"addCityBox\">\r\n      <text className=\"textaddCity1\">A city-stadium is not on the map?</text>\r\n      <text className=\"textaddCity2\">Want to add it?</text>\r\n      <text className=\"textaddCity3\">\r\n        Give us a max of info about your city (address, city, city name) so that\r\n        we can add it in the shortest time!\r\n      </text>\r\n      <div className=\"buttonBoxChat\">\r\n        <TextField\r\n          id=\"message\"\r\n          label=\"Enter message\"\r\n          size=\"normal\"\r\n          variant=\"filled\"\r\n          margin=\"normal\"\r\n          multiline\r\n          maxRows={5}\r\n          fullWidth\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n          sx={{ height: \"10vh\" }}\r\n        />\r\n        <div className=\"buttonSend\">\r\n          <Button\r\n            variant=\"contained\"\r\n            margin=\"normal\"\r\n            onClick={() => SendMessage()}\r\n            //color=\"success\"\r\n            endIcon={<SendIcon />}\r\n            sx={{ height: \"7vh\" }}\r\n          ></Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddCityPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}